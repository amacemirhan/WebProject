@page
@model WebProjeleri2022.Pages.Shared.IndexModel
@{
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">


<div id="text">

</div>
<div id="text2">

</div>
<div>
    <img id='foto' src="">
</div>
<button id="buton" type="button" class="btn btn-primary"><i class="fa fa-random"></i> Yenile</button>
<style>
    #text{
        height: 100px;
    }
    #foto{
    margin-top: 20px;
    margin-bottom: 20px;
    margin-left: auto;
    margin-right: auto;
    height: 50vh;
    border-radius: 20px;
    }

</style>
<script>
const urlKedi = "https://catfact.ninja/fact";
const urlActivity = "https://v2.jokeapi.dev/joke/Any?safe-mode";
const urlDog = "https://dog.ceo/api/breeds/image/random";

async function getKedi(){
    const response = await fetch(urlKedi);
    const data = await response.json();
    document.getElementById('text').textContent = "About Cats: "+ data.fact;
}


async function getJoke(){
    const response = await fetch(urlActivity);
    const data = await response.json();
    if(data.type!="single")
    getJoke();
    document.getElementById('text2').textContent = "Joke: " + data.joke;
}

async function getDog(){
    const response = await fetch(urlDog);
    const data = await response.json();
    document.getElementById('foto').src = data.message;
}
    getKedi();
  getJoke();
  getDog();
var ele = document.getElementById('buton');
ele.addEventListener("click", e=> {
  getKedi();
  getJoke();
  getDog();
});

getDog();

</script>


